---
layout: post
title: Android ART | ART GC
description: art的内存模型，gc的主要区域都在这里一一解答
tag: 
- vm-language
published : false 
---

java内存结构
- 程序计数器
- java栈
- c栈
- 方法区(是堆的一个逻辑部分)
- 堆

堆是gc的主要对象，根据对象存活周期分为：新生代(复制算法)、老年代(标记清除算法、标记整理算法)、永久代。gc的过程本质是就是对gc roots可达性的分析。
新生代使用复制算法将内存分割成8:1:1,每次回收只会浪费10%，如果10%的survivor空间不足，就会采用分配担保将对象放入老年代。所以对象优先在新生代(Eden)分配，大对象会在老年代分配,长期存活的对象也会进入到老年代,minor gc 采用复制算法来清理新生代，而major gc采用标记清除算法或者标记整理算法来清理老年代。